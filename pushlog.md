# 3.26

## 上传前端的环境配置

### by 沈刘

### ------------------------------------------

# 3.27 晚

## 任务完成情况：

### 完成登录注册页面。

## 关系设计说明：

### 学号/工号是用户身份唯一标识，而不是用户名。邮箱也不能重复。

## 安全措施：

### 密码已经加密，在 admin 后台只能看到加密后的用户密码（一堆乱码）

### 在.html 文件中加入了{%csrf_token%} 可以防止“跨站请求伪造”

## 待完善的地方：

### 前端：注册和登录页面需要美化。页面上方的导航栏出了点问题。

### 后端：将教师/学生的注册和登录页面分开。

### 设计表格：数据库里要增加 2 张表格：当前预定状态的表格和图书馆 座位情况的表格。

### by 陈欣然

### ------------------------------------------

# 3.28 中午

## 任务完成情况：修复部分无法显示的 bug

### by 沈刘

### ------------------------------------------

# 4.1 中午

## 任务完成情况:

### 完成前端基本界面框架的搭建包括 查询信息、预约座位、续约座位、取消预约 四个模块的初始化工作，具体的实现部分还未完成

### 打开./front/dist/index.html 文件即可查看预览图

### 或者直接用 django 运行项目，在登陆成功后可以查看到预览图，效果图的截图请看 效果图 1.png 和效果图 2.png

### 效果图中两侧有白边框，在以后的更新中解决

### 添加前端的验证

### by 沈刘

### ------------------------------------------

# 4.10 傍晚

## 任务完成情况：

1. 将郑幸锴同学设计的数据库整合到项目中
2. 新建了测试数据文件，详情见 测试数据生成集 文件夹下的 readme.md 文件
3. 整理项目的文档
4. 注意：如果要添加本次更新的新的数据库，需要进行一下操作：删除重新创建 mysql 中的 users 模式，然后删除 \rear\login\migrations 目录下的 除了**init**.py 以外的所有文件，在终端运行一下命令
   ```
   python manage.py makemigrations  #准备迁移
   python manage.py migrate         #数据库迁移
   python manage.py createsuperuser #创建超级用户
   ```
   运行完毕后打开 “测试数据生成集” 文件夹，生成测试数据，然后就可以运行整个项目

#### by 沈刘

# 4.13 晚 -4.14 早

## 任务完成情况：

### 1.在原有基础上修改数据库模型。将desk和rent放入新的app文件夹下。并增加了floor类。

## 数据库说明：

### 两个App使用的是同一个数据库。

## 尚待讨论商榷的问题：

### 一些外键的使用、约束关系的设置。

### 2.在原有基础上修改测试数据生成文件。生成了user,desk,floor类的数据。生成方法同上。

## 说明：

### （1）floor类有4层，每层的最大容量是25（可以更改）。

### （2）desk的id是它的主码。1-25号放第一层，26-50放第二层，以此类推……

### （3）把Mysqldb修改未pymysql。
###  MySQLdb 试用于较早期版本，而pymysql是新版本。

### 3.尝试写了查询的view函数和base模板。

### 函数的逻辑可供参考，但需要做一些调整。

## 存在的问题：

###  没有跑通这一部分。希望得到关于API实现部分的帮助。

## 说明：

###  view.py调用了一个@api_view ，这里使用了一个叫做rest-frame的框架。需要通过pip install django-rest-swagger 安装

### 安装只需要几秒钟时间。django版本是2.0.6.

## 下一步任务：分工写API接口

### by 陈欣然

### ------------------------------------------